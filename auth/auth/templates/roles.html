{% extends "layout.html" %}
{% block title %}Roles{% endblock %}
{% block content %}


{% if all_system_role_assignments.keys().__len__() > 0 %}
<h1 class='text-2xl font-light mb-4'>System role assignments</h1>

<table class='table-auto w-full border border-slate-300 border-collapse font-inter'>
  <thead>
    <tr>
      <th class='h-12 bg-slate-200 text-center font-light border border-slate-300 px-2 w-1/4'>Role name</th>
      <th class='h-12 bg-slate-200 text-center font-light border border-slate-300 px-2 w-1/4'>Permissions</th>
      <th class='h-12 bg-slate-200 text-center font-light border border-slate-300 px-2 w-1/4'>Users</th>
    </tr>
  </thead>
  <tbody>
    {% for role in all_system_role_assignments.keys() %}
    <tr>
      <td class='text-left border border-slate-300 px-2 py-2'>{{ role.value }}</td>
      <td class='text-left border border-slate-300 px-2 py-2'>
        <ul class='list-disc list-inside'>
          {% for permission in all_system_role_assignments[role]['permissions'] %}
          <li>{{ permission }}</li>
          {% endfor %}
        </ul>
      </td>
      <td class='text-left border border-slate-300 px-2 py-2'>
        <ul class='list-disc list-inside'>
          {% for user in all_system_role_assignments[role]['users'] %}
          <li>{{ user }}</li>
          {% endfor %}
        </ul>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endif %}
{% endblock %}
